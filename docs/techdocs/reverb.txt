ATTENTION: While WildMIDI 0.2.2 has a disabled reverb engine, this document relates only the the reverb engine in WildMIDI 0.2.3 or later. 
This has been a micro pet project of mine, with months and months of research into sound, and how it interacts with objects. The result is a reverb engine that closely mimics (but not duplicates) how reverberation occurs in real life. 

Basics of Reverb. Reverberation, or reverb, is the result of sound in a room (or other space) bouncing around off object, a repeating echo to make it simpler. Each reflection of the sound is reduced in volume and frequency response with how much depending on what the surface was, with higher frequencies beinf effected more than lower ones, eventually resulting the the sound fading all together. 

Implementation in WildMIDI. First, reverb is only added to the final audio output of the library. MIDI controller reverb events are unsupported and have no effect on the reverb implemented here. 

The Reflections 
----------------
WildMIDI uses 8 reflection points around a rectagular room, 2 on each wall. Each point is a third of the length of the wall in from the corner. There are 2 speaker points where the sound originates from. These speaker points are a quarter of the way in from each corner along the front wall and about one eighth of the way off the wall. The listener position is the point where the sound is combined and added to the final output. 

			-------R-------R-------
			|                     |
			|                     |
			|                     |
			|          L          |
			R                     R
			|                     |
			|                     |
			|                     |
			|                     |
			R                     R
			|                     |
			|                     |
			|    S           S    |
			|                     |
			-------R-------R-------
			R = Reflection Points
			S = Speaker Positions
			L = Listener Position

Looking at the crude drawing above (should of taken those ascii art classes) sound starts at the speakers and heads not only to the listener but to all 8 reflective points. From the reflective points the sound then heads to the listener point. All sound reaching the listener point is mixed together into left and right stereo. Then the sound from the left channel is sent to the right reflective points, and visa-versa for the right channel. To avoid any initial delay when the sound comes from the speakers to the listener the initial reflections are advanced in the reflection buffers. 

The Surfaces 
------------
To enlighten those who know very little about sound, when a sound hits an object or surface the sound that bounces back off it is changed. The way an object or surface affects a sound is sometimes knows as its sound absorption qualities. The most noticable of these qualities is volume. Like bouncing a tennis ball on carpet, the sound waves lose some power when they hit a surface. How much power depends on the frequency of the sound and the surface. You can notice this by turning on a stereo, walking out of the room and closing the door. You'll notice the lower frequency sounds are clearer than the higher frequency ones, this is sound absorbtion in action. WildMIDI mimics this effect by slightly attenuating the reflections and putting them through a 6 band equalizer, having more of an effect on the higher frequencies that the lower ones. 
 
 Audio    Global            Equalizer   Attenuation   Audio Out
  In    Attenuation         Frequency
                             -------      -------
                        ----| 125Hz |----|  -0dB |----
                       |     =======      =======     |
                       |----| 250Hz |----|  -6dB |----|
                       |     =======      =======     |
       -----------     |----| 500Hz |----| -13dB |----|
------|    -?dB   |----|     =======      =======     |--------
       -----------     |----|  1kHz |----| -21dB |----|
                       |     =======      =======     |
                       |----|  2kHz |----| -30dB |----|
                       |     =======      =======     |
                        ----|  4kHz |----| -40db |----
                             -------      -------
			
*NOTE: Attenuation not finalized, these are the original 
       settings used to test proof of concept.
The Nuts And Bolts
------------------
This is how it works, once WildMIDI has sampled and mixed the chunk of audio data requested, it passes it to the reverb engine which then takes each sample from each channel (left and right) and adds it into the appropriate places in all 8 reverb buffers, taking into account the removal of the delay between speaker positions and the listener. The reverb buffers are then read from an appropriate place, passed through the equalizers and then added to the original sample. The eualized sample is then added to the appropriate place into 4 reverb buffers on the opposite side of the room. The process is repeated until the reverb engine has completed reading the audio chunk. 